"use strict";
var __assign = (this && this.__assign) || function () {
    __assign = Object.assign || function(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) {
            s = arguments[i];
            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
                t[p] = s[p];
        }
        return t;
    };
    return __assign.apply(this, arguments);
};
Object.defineProperty(exports, "__esModule", { value: true });
function splitPath(path) {
    if (!path) {
        return [];
    }
    return path.split('/').filter(function (p) { return p.length > 0; });
}
exports.splitPath = splitPath;
function filterPath(pathParts, namespace) {
    return pathParts.filter(function (part) { return namespace.indexOf(part) < 0; }).join('/');
}
exports.filterPath = filterPath;
var startsWith = function (param, value) { return param[0] === value; };
var startsWith2 = function (param, value1, value2) {
    return param[0] === value1 && param[1] === value2;
};
function makeCreateHref(namespace, _createHref) {
    /**
     * Function used to create HREFs that are properly namespaced
     * @typedef {createHref}
     * @name createHref
     * @method createHref
     * @param  {string} path - the HREF that will be appended to the current
     * namespace
     * @return {string} a fully qualified HREF composed from the current
     * namespace and the path provided
     */
    return function createHref(location) {
        if (typeof location === 'object' && location !== null) {
            var fullPath = "" + namespace.join('/') + location.pathname;
            return startsWith(fullPath, '/') || startsWith2(fullPath, '#', '/')
                ? _createHref(__assign({}, location, { pathname: fullPath }))
                : _createHref(__assign({}, location, { pathname: '/' + fullPath }));
        }
        else if (typeof location === 'string') {
            var fullPath = "" + namespace.join('/') + location;
            return startsWith(fullPath, '/') || startsWith2(fullPath, '#', '/')
                ? _createHref({
                    pathname: fullPath
                })
                : _createHref({
                    pathname: '/' + fullPath
                });
        }
    };
}
exports.makeCreateHref = makeCreateHref;
//# sourceMappingURL=util.js.map